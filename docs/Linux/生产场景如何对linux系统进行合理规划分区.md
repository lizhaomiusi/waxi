\#

生产场景如何对linux系统进行合理规划分区

\#

分区的根本原则是简单、易用、方便批量管理。根据服务器角色定位建议如下：

\#

①单机服务器：如8G内存，300G硬盘

分区： /boot 100-200M，swap 16G，内存大小8G\*2，/ 80G，/var
20G（也可不分），/data 180G（存放web及db数据）

优点：数据盘和系统盘分开，有利于出问题时维护。

RAID方案：视数据及性能要求，一般可采用raid5折中。

\#

②负载均衡器（如LVS等）

分区：/boot 100-200M，swap 内存的1-2倍，/ ，

优点：简单方便，只做转发数据量很少。

RAID方案：数据量小，重要性高，可采用RAID1

\#

③负载均衡下的RS server

分区： /boot 100-200M，swap 内存的1-2倍，/

优点：简单方便，因为有多机，对数据要求低。

RAID方案：数据量大，重要性不高，有性能要求，数据要求低，可采用RAID0

\#

④数据库服务器mysql及oracle如16/32G内存

分区：/boot 100-200M，swap 16G，内存的1倍，/ 100G，/data 剩余（存放db数据）

优点：数据盘和系统盘分开，有利于出问题时维护,及保持数据完整。

RAID方案：视数据及性能要求主库可采取raid10/raid5，从库可采用raid0提高性能（读写分离的情况下。）

\#

⑤存储服务器

分区：/boot 100-200M，swap 内存的1-2倍，/ 100G，/data(存放数据)

优点：此服务器不要分区太多。只做备份，性能要求低。容量要大。

RAID方案：可采取sata盘，raid5

\#

⑥共享存储服务器（如NFS）

分区：/boot 100-200M，swap 内存的1-2倍，/ 100G，/data(存放数据)

优点：此服务器不要分区太多。NFS共享比存储多的要求就是性能要求。

RAID方案：视性能及访问要求可以raid5,raid10,甚至raid0（要有高可用或双写方案）

\#

⑦监控服务器cacti,nagios

分区：/boot 100-200M，swap 内存的1-2倍，/

优点：重要性一般，数据要求也一般。

RAID方案：单盘或双盘raid1即可。三盘就RAID5，看容量要求加盘即可。
