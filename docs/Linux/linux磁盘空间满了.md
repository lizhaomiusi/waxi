概述

日常工作总会碰到磁盘满的情况，这时候我们需要去判定哪个地方占的存储比较多，看那些文件有没用，如果没用就可以删掉节省空间。下面大概写一下处理的一个过程。  
  
1、使用df -h查看磁盘空间占用情况  
  
2、使用du -s /\* \| sort -nr命令查看那个目录占用空间大  
  
然后那个目录占用多 再通过du -s /root/\* \| sort -nr
一层层排查，找到占用文件多的地方。我之前发现的问题是tomcat日志文件二年的都没删过。有40g，后来找到log目录删除掉了。  
  
3、使用du -h -max-depth=1查看当前目录下文件夹大小情况  
  
4、查看文件是否被进程占用  
如果通过以上方法没有找到问题所在，那么可以使用 lsof \| grep deleted
命令，看看是否删除掉的文件仍然被进程占用而没有进行实际删除。  
  
找到占用文件很大的进程，停止进程。之后重新启动，就OK了。
