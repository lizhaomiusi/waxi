故障-目录误操作权限修改为 777 的修复方法

问题原因

Linux
中的每一个文件或目录都包含有访问权限，这些访问权限决定了谁能访问和如何访问这些文件和目录。误操作导致系统文件权限紊乱从而影响系统正常使用。

处理办法

1、通过一台权限正常的Linux（最好内核版本和故障服务器相同） 通过 getfacl -R /
\>systemp.bak 将这个正常系统的/目录下所有文件的权限都备份保存在 systemp.bak 中

2、如果异常服务器未重启等操作并且连接未端，可以使用 scp
命令将正常的备份文件传至异常服务器中，命令如下：

scp root\@目标机器IP：system.bak文件路径 本地存放system.bak路径

3、在异常服务器中执行命令：

setfacl --restore=systemp.bak

即可将现在的系统权限恢复成和正常系统一样。

4、reboot 重启系统重新测试验证结果。
