基础配置

https://www.cnblogs.com/gzxbkk/p/7803488.html  
认证模式  
console口、telnet、ssh、ftp配置  
simple(明文)\|cipher(密文)以下所有都为明文  
  
  
console口配置  
[sw1]user-interface console 0 \#进入console口  
[sw1-ui-console0]authentication-mode password \#本地验证  
[sw1-ui-console0]set authentication password simple huawei1 \#明文密码  
  
  
telnet配置  
\# 普通认证  
dis telnet server status  
[sw1]user-interface vty 0 4 \#进入vty用户界面视图  
[sw1-ui-vty0-4]authentication-mode password \# 配置验证模式本地  
[sw1-ui-vty0-4]set authentication password simple qwe123  
[sw1-ui-vty0-4]user privilege level 15 \#用户级别  
  
  
aaa配置  
\# 进入aaa视图 然后创建用户 级别 服务类型 配置telnet验证  
aaa  
local-user admin password simple admin  
local-user admin privilege level 15  
local-user admin service-type telnet  
\# 修改vty视图为aaa模式  
user-interface vty 0 4  
authentication-mode aaa

另外一个版本aaa配置  
AAA认证配置  
配置认证方案为本地认证，授权方案为本地授权  
[ar1]aaa  
[ar1-aaa]authentication-scheme auth1  
[ar1-aaa-authen-auth1]authentication-mode local  
[ar1-aaa-authen-auth1]q  
[ar1-aaa]authentication-scheme auth2  
[ar1-aaa-authen-auth2]authentication-mode local  
[ar1-aaa-authen-auth2]q

在创建域“huawei”并将认证方案和授权方案与域关联起来，然后创建用户将用户加入到域huawei  
[ar1]aaa  
[ar1-aaa]domain huawei  
Info: Success to create a new domain.  
[ar1-aaa-domain-huawei]authentication-scheme auth1  
[ar1-aaa-domain-huawei]authentication-scheme auth2  
[ar1-aaa-domain-huawei]q  
[ar1-aaa]local-user admin password cipher huawei1  
[ar1-aaa]local-user admin service-type telnet  
[ar1-aaa]local-user admin privilege level 15  
[ar1-aaa]q  
[ar1]telnet server enable

将R1配置为telnet服务器，认证模式为AAA  
[ar1]user-interface vty 0 4  
[ar1-ui-vty0-4]authentication-mode aaa  
从外面访问验证访问需要用户名和密码 成功  
  
  
ssh配置 ftp telnet 同样方法  
\# 生成密钥  
rsa local-key-pair create  
dis rsa local-key-pair public  
  
\# 设置VTY只支持SSH协议，自动禁止telnet功能，默认为telnet  
user-interface vty 0 4  
authentication-mode aaa  
protocol inbound ssh  
  
\# aaa下创建ssh用户，配置password认证,开启服务与aaa下同名 开启ssh服务类型  
aaa  
local-user admin password simple qwe123  
local-user admin privilege level 15  
local-user admin service-type ssh \# 可开启多个服务ftp\|ssh\|telnet\|http\|web  
  
\# 为用户设置认证为passwd验证 为用户设置服务类型为ssh  
ssh user admin authentication-type password  
ssh user admin service-type stelnet  
Stelnet server enable  
  
\# 查看服务  
dis ssh server status  
\# 在r2路由器客户端访问的话需要开启第一次不验证并自动分配密钥,下一次则认证  
ssh client first-time enable  
  
  
FTP配置  
\# 开启ftp  
ftp server enable  
\# 创建用户  
aaa  
local-user ftp password cipher ftp  
local-user ftp ftp-directory flash:  
local-user ftp service-type ftp  
  
从别的设备登录  
\<r1\>ftp 10.0.2.1  
  
ls或者dir查看  
get下载  
put上传  
  
  
创建web登录管理账号  
[Quidway]http server enable \# 系统视图下开启http服务  
[Quidway]http secure-server enable \# 系统视图下开启http安全服务 即https  
[Quidway]aaa  
[Quidway-aaa]local-user admin privilege level 15  
[Quidway-aaa]local-user admin service-type http \# 开启 http 登录服务
