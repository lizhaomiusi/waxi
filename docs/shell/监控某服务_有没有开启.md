\#监控某服务 有没有开启  
  
\#!/bin/bash  
  
ssh_status=\`/etc/init.d/sshd status \|grep running \|wc -l\`  
[ \$ssh_status -ne 0 ] && echo 'ssh 开启' \|\| echo 'ssh 没有开启'  
  
第一种  
/etc/init.d/sshd status \|grep running \|wc -l  
systemctl status sshd.service \|grep running \|wc -l  
1  
第二种  
ps -ef \|grep ssh \|grep -v grep \|wc -l  
2  
第三种  
lsof -i :22 \|grep -i listen \|wc -l  
2  
第四种
